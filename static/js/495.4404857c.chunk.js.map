{"version":3,"file":"static/js/495.4404857c.chunk.js","mappings":"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","sources":["api.js","components/Loader/Loader.js","components/Movies/Movies.styled.js","components/Movies/Movies.js","pages/MoviesPage.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseURL = 'https://api.themoviedb.org/3/movie/';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMGRjNDlhZTViNGU1NjZmOTRiM2Q0YmIyYzRmNzU0MCIsInN1YiI6IjY1YjdjZWJmMGZiMTdmMDE3YjM0ZmE1YSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.k8B34-vuhkf17vWcOVLlbZyRATlzvrIuKqvZCYtsF38';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nexport const fetchPopularMovies = async () => {\n  const response = await axios.get(baseURL + 'popular');\n  return response.data;\n};\n\nexport const fetchDetailsMovie = async id => {\n  const response = await axios.get(baseURL + id);\n  return response.data;\n};\n\nexport const fetchCast = async id => {\n  const response = await axios.get(baseURL + id + '/credits');\n  return response.data;\n};\n\nexport const fetchReviews = async id => {\n  const response = await axios.get(baseURL + id + '/reviews');\n  return response.data;\n};\n\nexport const searchMovies = async query => {\n  const response = await axios.get(\n    'https://api.themoviedb.org/3/search/movie?query=' + query\n  );\n  return response.data.results;\n};\n","import { LineWave } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <LineWave\n      height=\"200\"\n      width=\"400\"\n      color=\"#242E34\"\n      ariaLabel=\"line-wave-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"\"\n      firstLineColor=\"\"\n      middleLineColor=\"\"\n      lastLineColor=\"\"\n    />\n  );\n};\n","import {\n  Field as FormikField,\n  Form as FormikForm,\n  ErrorMessage as FormikError,\n} from 'formik';\nimport styled from 'styled-components';\n\nexport const Form = styled(FormikForm)`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n  background-color: ${p => p.theme.colors.grey};\n`;\n\nexport const Field = styled(FormikField)`\n  display: block;\n  width: 552px;\n  height: 48px;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-color: ${p => p.theme.colors.acent2};\n  background-image: url('https://cdn.iconscout.com/icon/free/png-512/free-search-1364-458863.png?f=webp&w=256');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const FoundMoviesList = styled.ul`\n  margin: ${p => p.theme.spacing(3)};\n`;\n\nexport const FoundMoviesItem = styled.li`\n  font-size: 20px;\n  margin: ${p => p.theme.spacing(1)};\n`;\n\nexport const ErrorMessage = styled(FormikError)`\n  display: block;\n  background-color: ${p => p.theme.colors.grey};\n  color: ${p => p.theme.colors.error};\n  font-size: 14px;\n\n  padding-top: ${p => p.theme.spacing(1)};\n`;\n","import { useState, useEffect } from 'react';\nimport { searchMovies } from 'api';\nimport { Loader } from 'components/Loader/Loader';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  Form,\n  SearchFormButton,\n  SearchFormButtonLabel,\n  Field,\n  FoundMoviesList,\n  FoundMoviesItem,\n  ErrorMessage,\n} from './Movies.styled';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nexport const Movies = () => {\n  const [foundMovie, setFoundMovie] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [query, setQuery] = useState('');\n  const [params, setParams] = useSearchParams();\n\n  const queryParams = params.get('query') ?? '';\n  const location = useLocation();\n\n  const searchSchema = Yup.object().shape({\n    searchInput: Yup.string()\n      .min(3, 'Too Short!')\n      .required('Must not be empty'),\n  });\n\n  useEffect(() => {\n    if ((query === '') & (queryParams === '')) {\n      setFoundMovie([]);\n      return;\n    }\n\n    async function getMovies() {\n      try {\n        setIsLoading(true);\n\n        const initialMovies = await searchMovies(\n          queryParams !== '' ? queryParams : query\n        );\n        setFoundMovie(initialMovies);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getMovies();\n  }, [queryParams, query, params]);\n\n  return (\n    <div>\n      <Formik\n        initialValues={{\n          searchInput: params ? queryParams : '',\n        }}\n        validationSchema={searchSchema}\n        onSubmit={values => {\n          params.set('query', values.searchInput);\n          setParams(params);\n\n          setQuery(values.searchInput);\n        }}\n      >\n        {({ handleChange, values }) => (\n          <Form>\n            <Field\n              name=\"searchInput\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n              value={values.searchInput}\n              onChange={handleChange}\n            />\n            <SearchFormButton>\n              <SearchFormButtonLabel type=\"submit\">\n                Search\n              </SearchFormButtonLabel>\n            </SearchFormButton>\n\n            <ErrorMessage name=\"searchInput\" component=\"span\" />\n          </Form>\n        )}\n      </Formik>\n\n      <FoundMoviesList>\n        {isLoading && <Loader />}\n        {foundMovie.length\n          ? foundMovie.map(movie => (\n              <FoundMoviesItem key={movie.id}>\n                <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </FoundMoviesItem>\n            ))\n          : (query !== '') & !isLoading && 'No movies found'}\n      </FoundMoviesList>\n    </div>\n  );\n};\n","import { Movies } from 'components/Movies/Movies';\n\nexport default function MoviesPage() {\n  return (\n    <div>\n      <Movies />\n    </div>\n  );\n}\n"],"names":["baseURL","axios","fetchPopularMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","sent","abrupt","data","stop","apply","arguments","fetchDetailsMovie","_ref2","_callee2","id","_context2","_x","fetchCast","_ref3","_callee3","_context3","_x2","fetchReviews","_ref4","_callee4","_context4","_x3","searchMovies","_ref5","_callee5","query","_context5","results","_x4","Loader","_jsx","LineWave","height","width","color","ariaLabel","wrapperStyle","wrapperClass","firstLineColor","middleLineColor","lastLineColor","Form","styled","FormikForm","_templateObject","_taggedTemplateLiteral","p","theme","colors","grey","Field","FormikField","_templateObject2","SearchFormButton","_templateObject3","acent2","SearchFormButtonLabel","_templateObject4","FoundMoviesList","_templateObject5","spacing","FoundMoviesItem","_templateObject6","ErrorMessage","FormikError","_templateObject7","error","Movies","_params$get","_useState","useState","_useState2","_slicedToArray","foundMovie","setFoundMovie","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","setQuery","_useSearchParams","useSearchParams","_useSearchParams2","params","setParams","queryParams","get","location","useLocation","searchSchema","Yup","shape","searchInput","min","required","useEffect","_getMovies","initialMovies","t0","console","log","finish","getMovies","_jsxs","children","Formik","initialValues","validationSchema","onSubmit","values","set","handleChange","name","type","autoComplete","autoFocus","placeholder","value","onChange","component","length","map","movie","Link","to","concat","state","from","title","MoviesPage"],"sourceRoot":""}